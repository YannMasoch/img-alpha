!function(t){function a(t,a,n,e,r){a.drawImage(n,0,0);for(var i=a.getImageData(0,0,t.width,t.height),o=i.data,h=0;h<o.length;h+=4)e.push(o[h]),e.push(o[h+1]),e.push(o[h+2]),e.push(255);a.clearRect(0,0,t.width,t.height),r()}function n(t,a,n,e,r){a.drawImage(n,0,0);for(var i=a.getImageData(0,0,t.width,t.height),o=i.data,h=0;h<o.length;h+=4)e.push(o[h]),e.push(o[h+1]),e.push(o[h+2]),e.push(255);a.clearRect(0,0,t.width,t.height),r()}function e(t,a,n,e,i,o){for(var h=a.createImageData(t.width,t.height),u=h.data,g=0;g<u.length;g+=4)u[g]=r(n[g],i[0],e[g]),u[g+1]=r(n[g+1],i[1],e[g]),u[g+2]=r(n[g+2],i[2],e[g]),u[g+3]=e[g];a.putImageData(h,0,0),o()}function r(t,a,n){t/=255,a/=255,n/=255;var e=t/n-a*(1-n)/n;return 255*e}function i(t){return/^#?[0-9A-F]{6}$/i.test(t)}function o(t){return t=t.replace("#","")}function h(t){var a=new ArrayBuffer(4),n=new DataView(a);n.setUint32(0,parseInt(t,16),!1);var e=new Uint8Array(a);return[e[1],e[2],e[3]]}t.fn.imgAlpha=function(r){var u=t.extend({imgColor:void 0,imgAlpha:void 0,bgColor:null},r);return this.each(function(){var r=t(this),g=void 0,c=void 0,l=null,d=[],f=[],s=i(u.bgColor)?h(o(u.bgColor)):null,m=i(r.data("bgColor"))?h(o(r.data("bgColor"))):null;if(g=u.imgColor||r.data("imgColor")||r.attr("src"),c=u.imgAlpha||r.data("imgAlpha"),l=s||m||[255,255,255],c){var v=document.createElement("canvas"),p=v.getContext("2d"),w=new Image;w.src=g;var C=new Image;C.src=c,(w&&C).onload=function(){v.width=w.width,v.height=w.height,a(v,p,w,d,function(){n(v,p,C,f,function(){e(v,p,d,f,l,function(){var t=v.toDataURL();r.attr("src",t)})})})}}})}}(jQuery);
//# sourceMappingURL=jquery.imgAlpha.min.js.map
